<lib>
  <:define tag="sample-indexable-1" :title="Indexable pages">
  <h4>
    <bs-icon :icon="body-text"/>
    [[title]]
  </h4>
  <title-spacer/>
  <p>
    By default, pages are <a href="docs/index#server">rendered in the server</a> with their dynamic content,
    and are then <a href="docs/index#client">updated in the client</a> as needed.
  </p>
  <bs-card :class-code-card="[[true]]" :mutedFooter="[[false]]" :footer=" ">

    <highlight-js style="margin-bottom: 0"
                  :lang="html"
                  :source='[[
`<:data-source :aka="cat"
              :url="/cat-facts"/>
<div class="cat-fact">
  <span>[`+`[cat.content.fact]`+`]</span>
  <button :on-click="[`+`[() => cat.trigger()]`+`]">
    Next
  </button>
</div>
`
    ]]'/>

    <!---
    TODO: [REF-31] avoid server + client data request at start,
    reuse server-side data or skip client-side refresh
    -->
    <:data-source :aka="cat"
                  :autoGet=[[true]]
                  :url="/cat-facts" />
    <div :slot="footer" class="cat-fact">
      <span>[[cat.content && cat.content.fact]]</span>
      <bs-button :on-click="[[() => cat.trigger()]]">Next</bs-button>
    </div>
  </bs-card>
  <!--- <br/><a href="docs/index#server">More on Indexability</a><br/> -->
  </:define>
</lib>
